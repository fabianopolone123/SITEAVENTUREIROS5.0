{% extends "cadastro_aventureiro/base.html" %}

{% block stage_content %}
  <form method="post">
    {% csrf_token %}
    <div class="section-card term-panel">
      <div class="term-header">
        <span class="term-label">CLUBE DE AVENTUREIROS</span>
        <h4>Ficha Médica</h4>
        <p class="term-paragraph">IGREJA ADVENTISTA DO SÉTIMO DIA</p>
      </div>

      <div class="term-text">
        <h5>DADOS MÉDICOS DO AVENTUREIRO</h5>
        <p>Se possui plano de saúde?</p>
        <div class="radio-group">
          {{ form.has_health_plan }}
        </div>
      </div>

      <div class="field-grid">
        {{ form.health_plan.label_tag }}
        {{ form.health_plan }}
      </div>

      <div class="field-grid">
        {{ form.sus_number.label_tag }}
        {{ form.sus_number }}
      </div>

      <div class="term-text">
        <h5>Já teve ou tem:</h5>
        <p>(Marque X apenas nas opções positivas)</p>
      </div>

      <div class="field-grid checkbox-grid">
        {% for field in disease_fields %}
          <label class="checkbox-inline">
            {{ field }}
            {{ field.label_tag }}
          </label>
        {% endfor %}
      </div>

      <div class="term-text">
        <p>Possui alergia cutânea (pele)?</p>
        <div class="radio-group">
          {{ form.allergies }}
        </div>
      </div>
      <div class="field-grid">
        {{ form.allergy_details.label_tag }}
        {{ form.allergy_details }}
      </div>

      <div class="term-text">
        <p>Possui alergia alimentar?</p>
        <div class="radio-group">
          {{ form.other_problems }}
        </div>
      </div>
      <div class="field-grid">
        {{ form.other_problems_notes.label_tag }}
        {{ form.other_problems_notes }}
      </div>

      <div class="term-text">
        <p>Possui alergia a medicamentos?</p>
        <div class="radio-group">
          {{ form.medication_year }}
        </div>
      </div>
      <div class="field-grid">
        {{ form.medication_year_notes.label_tag }}
        {{ form.medication_year_notes }}
      </div>

      <div class="term-text">
        <h5>CONDIÇÕES DE SAÚDE ATUAIS</h5>
      </div>
      <div class="field-grid">
        {{ form.conditions.label_tag }}
        {{ form.conditions }}
      </div>
      <div class="field-grid">
        {{ form.uses_medication.label_tag }}
        {{ form.uses_medication }}
      </div>

      <div class="field-grid">
        {% for field in history_fields %}
          <div class="question-line">
            {{ field.label_tag }}
            {{ field }}
          </div>
        {% endfor %}
      </div>

      <div class="term-text">
        <h5>Tipo de Sangue</h5>
      </div>
      <div class="field-grid">
        {{ form.blood_type.label_tag }}
        {{ form.blood_type }}
      </div>
    </div>

    <div class="actions">
      <button class="secondary-btn" name="action" value="save_draft" type="submit">Salvar rascunho</button>
      <button class="primary-btn" name="action" value="continue" type="submit">Salvar ficha médica</button>
    </div>
  </form>
{% endblock %}
